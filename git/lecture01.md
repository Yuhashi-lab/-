![yuhashi-lab](http://www.yuhashi-lab.net/_/rsrc/1436515256182/config/customLogo.gif?revision=1)

2016/10/01

# gitとは

![git](https://git-scm.com/images/logo@2x.png)
>git（ギット）は、プログラムのソースコードなどの変更履歴を記録・追跡するための分散型バージョン管理システムである。 Linuxカーネルのソースコード管理に用いるためにリーナス・トーバルズによって開発され、それ以降ほかの多くのプロジェクトで採用されている。

複数人で一つのファイルを編集しているとフォルダ内が
* 資料
* 資料_改訂版
* 資料_決定版
* 資料_決定版2

などのように、すぐに何が何だかか分からなくなってきます。  

このような問題を解決するため、複数名でのファイルの編集をサポートし編集の歴史の確認や確定を行えるツールがgitです。

## 1.リポジトリとは
gitを使う上で重要な概念としてリポジトリがあります。  
リポジトリとはディレクトリやファイルの状態を記録し管理する場のことです。  
gitには__ローカルリポジトリ__と__リモートリポジトリ__があり、__commit__ や__push__ を使ってファイルの状態を確定していきます。

* ローカルリポジトリ  
それぞれの__PC上に存在するリポジトリ__。ここである程度編集して機能の実装を終えたらリモートリポジトリに変更を反映する。
* リモートリポジトリ  
複数人で__共有するリポジトリ__。こちらに多くはGithubが使われる。

# Githubにプロジェクトを上げる
実際にgitを使ってGithub上のリモートリポジトリにプロジェクトを上げてみます。

## 1.gitをインストール
まずはgitコマンドが使えないとどうしようもないのでインストールからです。  
以下よりDL  
https://git-for-windows.github.io/

インストール後は動作確認も兼ねてconfigを設定しておいてください。  
`>git config -g user.name "自分の名前"`  
`>git config -g user.email 自分のメールアドレス`  

## 2.gitで管理するプロジェクトを作成
まずはプロジェクトを作ります。  
プロジェクトと言っても実態はただのフォルダとその中のファイルです。

適当なところに `test`というフォルダでも作って下さい。
その中に `test.txt`というファイルでも作って適当に何か書いておいてください。

その後はコマンドプロンプトを開いてcdコマンドでフォルダまで移動しておいて下さい。

## 3.ローカルリポジトリに変更を反映
ローカルリポジトリで変更を確定(__commit__)→リモートリポジトリに変更を反映(__push__)という流れが基本です。  
まずはcommitまでやっていきます。

### init
まず最初にtestフォルダをgitで管理すると宣言する必要があります。  
cdで`test`フォルダまで移動した後に  
 `>git init`  
でtestフォルダがgitで管理されます。  

確認すると `test`フォルダ に`.git`というフォルダが追加されているはずです。gitでの編集履歴などの情報は全てここに記録されます。

### add
次は `test.txt`をリポジトリの管理対象に加えます。  
`>git add test.txt`  
これで管理対象に加えられます。

ちなみにですがファイルが多い場合は  
`>git add .`  
でフォルダ内のファイルを全部管理対象に加えられます。  

### commit
addで追加したファイルの変更を確定します。  
`>git commit -m "適当なコミットメッセージ(変更の要点をまとめる)"`  
でローカルリポジトリに変更が反映されます。

## 4.リモートリポジトリ(Github)に変更反映
次に今までやってきたローカルリポジトリの変更をリモートリポジトリに反映します。

### Githubにリポジトリを作る
まずはリモートリポジトリが存在しないとどうしようもありません。  
自身のアカウントのページまで移動してNew Repositoryのボタンを押して下さい。

リポジトリの名前は適当にtestにしておいてください。  
あとは全部規定値のままで大丈夫です。

### remote
…or push an existing repository from the command line  
と書かれているとこの  
`git remote add origin ...`  
のとこをコピーしてコマンドプロンプトの方に戻って下さい。  

 コピーしたものをそのまま貼って実行してください。  
 remoteコマンドを使って先程作ったリモートリポジトリのURLを登録するという内容です。  
`>git remote add origin ...`  

### push
先程登録したリモートリポジトリに変更を反映します。  
`>git push -u origin master`

先程のリポジトリを見に行くと中身が書き込まれているはずです。

## 5.流れのまとめ
流れをまとめると大体以下です。  
* `init`でディレクトリをgitの管理対象にする
* `add`でディレクトリ内のフォルダをリポジトリの管理対象に加える
* `commit`でローカルでの変更を確定する
* Githubでリポジトリを作る
* `remote`でGithubのリポジトリのURLを登録
* `push`でリモートに変更を反映

# 発展
今回はとりあえずGithubにアップするところまでやりました。細かい所は色々省きまくりましたが基本は以上です。  

実際に複数人でリモートリポジトリを編集すると`pull` `merge` `branch`などのコマンドや概念も出てきます。まず複数人でのファイル編集というものが難しい課題なので必然的にgitも難しくなってきます。今回の説明では本当に基本しかカバーできていないので実際に使って覚えていって下さい。  

ファイル編集という性質上、gitはチーム内の1人が使えないと全体での導入が難しくなります。使いこなせとまでは言いませんが基本的なところはできるようになっておいて下さい。

ちなみにですが、リモートリポジトリの管理の方針は自由ですが、そこをある程度規定した有名なフローとしてGithubFlowがあります。良ければ参考にしておいて下さい。

また、コマンドプロンプトの黒画面に抵抗がある人はGUIのgitクライアントを使うのもいいと思います。  
色々ありますが[SourceTree](https://ja.atlassian.com/software/sourcetree)などが有名かと思います。

# 注意
注意しておいて欲しいところとして、Githubに上げたプロジェクトは基本的にPublicだというところがあります。(Privateリポジトリも作れるが有料)  
何かの課金サービスのAPIキーだったり個人情報を上げると大変な事になります。  

[初心者がAWSでミスって不正利用されて$6,000請求、泣きそうになったお話。](http://qiita.com/mochizukikotaro/items/a0e98ff0063a77e7b694)   
こんな事例も合ったりします。
